<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resumen Interactivo: Basic 3 (7-9)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Warm Neutrals (Stone) with Soft Emerald Accent -->
    <!-- Application Structure Plan: Se mantiene la estructura SPA de pestañas (Descripción General, Unidad 7, 8, 9) que ha sido efectiva. La 'Descripción General' usa un gráfico de barras (Chart.js) para visualizar la carga de conceptos. Cada unidad se divide en 'Gramática' (tablas de reglas), 'Vocabulario' (flashcards) y 'Práctica' (quizzes). Este diseño de 'hub de estudio' permite al usuario elegir su enfoque (revisar, memorizar, practicar) y transforma el contenido estático del resumen del usuario en una herramienta de aprendizaje dinámica. -->
    <!-- Visualization & Content Choices: 1. Estructura del Curso (Unidades 7-9): Goal=Informar. Viz=Gráfico de Barras (Chart.js/Canvas). Interaction=Hover. Justification=Visualiza la carga de temas por unidad. 2. Reglas Gramaticales (Preposiciones de Tiempo, Números Ordinales, Adverbios de Frecuencia): Goal=Organizar/Comparar. Viz=Tablas HTML con Tailwind. Interaction=N/A. Justification=Método claro para reglas. 3. Listas de Vocabulario (Rutinas diarias, Meses, Tareas domésticas): Goal=Memorizar/Interactuar. Viz='Flashcards' (HTML/JS). Interaction=Click para voltear (Español/Inglés), Siguiente/Anterior. Justification=Herramienta de estudio activa. 4. Ejercicios (Completar 'in/on/at', '1st/2nd/3rd', adverbios): Goal=Evaluar/Practicar. Viz=Formulario de Quiz (HTML/JS). Interaction=Input, 'Verificar' con feedback. Justification=Autoevaluación basada en los temas del resumen. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .flashcard {
            transform-style: preserve-3d;
            transition: transform 0.6s;
            cursor: pointer;
        }
        .flashcard-face {
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }
        .flashcard.is-flipped {
            transform: rotateY(180deg);
        }
        .flashcard-back {
            transform: rotateY(180deg);
        }
        .main-tab {
            transition: all 0.3s ease;
        }
        .main-tab.active {
            border-color: #059669;
            background-color: #D1FAE5;
            color: #065F46;
            font-weight: 600;
        }
        .unit-tab {
            transition: all 0.3s ease;
        }
        .unit-tab.active {
            background-color: #10B981;
            color: #ffffff;
        }
    </style>
</head>
<body class="bg-stone-50 font-sans text-stone-800 antialiased">

    <div class="container mx-auto p-4 md:p-8 max-w-5xl">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-stone-700 mb-2">Resumen Interactivo: Basic 3</h1>
            <p class="text-lg text-stone-600">Una herramienta de estudio para las Unidades 7, 8 y 9</p>
        </header>

        <nav class="flex justify-center space-x-2 md:space-x-4 mb-8 border-b border-stone-300 pb-4">
            <button class="main-tab active text-sm md:text-base font-medium text-stone-600 py-2 px-3 md:px-5 rounded-lg border-2 border-transparent hover:bg-stone-200" data-target="page-overview">Descripción General</button>
            <button class="main-tab text-sm md:text-base font-medium text-stone-600 py-2 px-3 md:px-5 rounded-lg border-2 border-transparent hover:bg-stone-200" data-target="page-unit-7">Unidad 7</button>
            <button class="main-tab text-sm md:text-base font-medium text-stone-600 py-2 px-3 md:px-5 rounded-lg border-2 border-transparent hover:bg-stone-200" data-target="page-unit-8">Unidad 8</button>
            <button class="main-tab text-sm md:text-base font-medium text-stone-600 py-2 px-3 md:px-5 rounded-lg border-2 border-transparent hover:bg-stone-200" data-target="page-unit-9">Unidad 9</button>
        </nav>

        <main id="content-area">
            
            <section id="page-overview" class="page-content">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-2xl font-bold text-emerald-700 mb-4">Bienvenido a tu Resumen (Parte 3)</h2>
                    <p class="text-stone-700 mb-6">
                        Esta aplicación cubre las unidades 7, 8 y 9, basándose en la información de tu curso. Aquí encontrarás los temas de gramática, vocabulario y práctica para "Time", "Special Occasions" y "Come Together".
                    </p>
                    <p class="text-stone-700 mb-6">
                        Usa las pestañas para navegar y la gráfica de abajo para ver los conceptos clave que se cubren en cada unidad.
                    </p>
                    <div class="chart-container">
                        <canvas id="unitChart"></canvas>
                    </div>
                </div>
            </section>

            <section id="page-unit-7" class="page-content hidden">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-3xl font-bold text-stone-700 mb-2">Unidad 7: Time (Tiempo)</h2>
                    <p class="text-lg text-stone-600 mb-6">Temas: Rutinas diarias, decir la hora y preposiciones de tiempo.</p>
                    
                    <div class="flex justify-center space-x-2 mb-6 border-b border-stone-200 pb-4">
                        <button class="unit-tab active py-2 px-4 rounded-full bg-stone-200 text-stone-700 hover:bg-emerald-500 hover:text-white" data-target="unit-7-grammar">Gramática</button>
                        <button class="unit-tab py-2 px-4 rounded-full bg-stone-200 text-stone-700 hover:bg-emerald-500 hover:text-white" data-target="unit-7-vocab">Vocabulario</button>
                        <button class="unit-tab py-2 px-4 rounded-full bg-stone-200 text-stone-700 hover:bg-emerald-500 hover:text-white" data-target="unit-7-practice">Práctica</button>
                    </div>

                    <div id="unit-7-grammar" class="unit-content">
                        <h3 class="text-2xl font-semibold text-emerald-700 mb-4">Gramática: Preposiciones de Tiempo y Preguntas Wh-</h3>
                        
                        <h4 class="text-lg font-semibold text-stone-700 mt-4 mb-2">Preposiciones: In / On / At</h4>
                        <div class="overflow-x-auto">
                            <table class="w-full min-w-max border border-stone-300 rounded-md">
                                <thead class="bg-stone-100">
                                    <tr>
                                        <th class="p-3 text-left font-semibold text-stone-600">Preposición</th>
                                        <th class="p-3 text-left font-semibold text-stone-600">Uso</th>
                                        <th class="p-3 text-left font-semibold text-stone-600">Ejemplos</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-t border-stone-200">
                                        <td class="p-3 font-semibold text-emerald-600">in</td>
                                        <td class="p-3">Periodos largos (meses, años, estaciones)</td>
                                        <td class="p-3"><span class="font-semibold">in</span> May, <span class="font-semibold">in</span> 2024, <span class="font-semibold">in</span> the morning</td>
                                    </tr>
                                    <tr class="border-t border-stone-200 bg-stone-50">
                                        <td class="p-3 font-semibold text-emerald-600">on</td>
                                        <td class="p-3">Días y fechas específicas</td>
                                        <td class="p-3"><span class="font-semibold">on</span> Monday, <span class="font-semibold">on</span> July 10th, <span class="font-semibold">on</span> my birthday</td>
                                    </tr>
                                    <tr class="border-t border-stone-200">
                                        <td class="p-3 font-semibold text-emerald-600">at</td>
                                        <td class="p-3">Horas específicas y momentos del día</td>
                                        <td class="p-3"><span class="font-semibold">at</span> 5:00 PM, <span class="font-semibold">at</span> noon, <span class="font-semibold">at</span> night</td>
                                    </tr>
                                    <tr class="border-t border-stone-200 bg-stone-50">
                                        <td class="p-3 font-semibold text-emerald-600">from...to</td>
                                        <td class="p-3">Un rango de tiempo (de...a)</td>
                                        <td class="p-3"><span class="font-semibold">from</span> 9:00 AM <span class="font-semibold">to</span> 5:00 PM</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <h4 class="text-lg font-semibold text-stone-700 mt-6 mb-2">Preguntas Wh- en Presente Simple</h4>
                        <ul class="list-disc list-inside space-y-2 text-stone-700">
                            <li><span class="font-semibold">What</span> time do you wake up? (¿A qué hora...?)</li>
                            <li><span class="font-semibold">When</span> do you go to the movies? (¿Cuándo...?)</li>
                            <li><span class="font-semibold">Where</span> does he work? (¿Dónde...?)</li>
                            <li><span class="font-semibold">Who</span> do you live with? (¿Con quién...?)</li>
                        </ul>
                    </div>
                    
                    <div id="unit-7-vocab" class="unit-content hidden">
                        <h3 class="text-2xl font-semibold text-emerald-700 mb-4">Vocabulario: Flashcards</h3>
                        <p class="text-stone-600 mb-4 text-center">Haz clic en la tarjeta para ver la traducción.</p>
                        
                        <div class="relative w-full max-w-sm mx-auto h-48 perspective">
                            <div id="flashcard-u7" class="flashcard relative w-full h-full">
                                <div id="flashcard-u7-front" class="flashcard-face absolute w-full h-full bg-white border-2 border-emerald-500 rounded-lg shadow-lg flex items-center justify-center p-4">
                                    <span class="text-3xl font-bold text-stone-700"></span>
                                </div>
                                <div id="flashcard-u7-back" class="flashcard-face flashcard-back absolute w-full h-full bg-emerald-50 border-2 border-emerald-500 rounded-lg shadow-lg flex items-center justify-center p-4">
                                    <span class="text-3xl font-bold text-emerald-700"></span>
                                </div>
                            </div>
                        </div>

                        <div class="flex justify-between max-w-sm mx-auto mt-6">
                            <button id="prev-u7" class="py-2 px-5 bg-stone-300 text-stone-700 font-semibold rounded-lg shadow hover:bg-stone-400">&larr; Anterior</button>
                            <button id="next-u7" class="py-2 px-5 bg-emerald-600 text-white font-semibold rounded-lg shadow hover:bg-emerald-700">Siguiente &rarr;</button>
                        </div>
                    </div>

                    <div id="unit-7-practice" class="unit-content hidden">
                        <h3 class="text-2xl font-semibold text-emerald-700 mb-4">Práctica: Preposiciones de Tiempo</h3>
                        
                        <div class="space-y-4 max-w-md mx-auto">
                            <div id="quiz-u7-item">
                                <p id="quiz-u7-question" class="text-lg text-stone-700 mb-2 text-center"></p>
                                <div class="flex space-x-2">
                                    <input id="quiz-u7-input" type="text" class="flex-grow p-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500" placeholder="Escribe 'in', 'on', o 'at'...">
                                    <button id="quiz-u7-check" class="py-2 px-5 bg-emerald-600 text-white font-semibold rounded-lg shadow hover:bg-emerald-700">Verificar</button>
                                </div>
                                <p id="quiz-u7-feedback" class="mt-2 text-center font-medium h-6"></p>
                            </div>
                            <button id="quiz-u7-next" class="w-full py-2 px-5 bg-stone-600 text-white font-semibold rounded-lg shadow hover:bg-stone-700 hidden">Siguiente Pregunta</button>
                        </div>
                    </div>
                </div>
            </section>

            <section id="page-unit-8" class="page-content hidden">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-3xl font-bold text-stone-700 mb-2">Unidad 8: Special Occasions</h2>
                    <p class="text-lg text-stone-600 mb-6">Temas: Meses, fechas, números ordinales y festivales.</p>

                    <div class="flex justify-center space-x-2 mb-6 border-b border-stone-200 pb-4">
                        <button class="unit-tab active py-2 px-4 rounded-full bg-stone-200 text-stone-700 hover:bg-emerald-500 hover:text-white" data-target="unit-8-grammar">Gramática</button>
                        <button class="unit-tab py-2 px-4 rounded-full bg-stone-200 text-stone-700 hover:bg-emerald-500 hover:text-white" data-target="unit-8-vocab">Vocabulario</button>
                        <button class="unit-tab py-2 px-4 rounded-full bg-stone-200 text-stone-700 hover:bg-emerald-500 hover:text-white" data-target="unit-8-practice">Práctica</button>
                    </div>

                    <div id="unit-8-grammar" class="unit-content">
                        <h3 class="text-2xl font-semibold text-emerald-700 mb-4">Gramática: Números Ordinales y Preguntas</h3>
                        
                        <h4 class="text-lg font-semibold text-stone-700 mt-4 mb-2">Números Ordinales (para fechas)</h4>
                        <div class="overflow-x-auto">
                            <table class="w-full min-w-max border border-stone-300 rounded-md">
                                <thead class="bg-stone-100">
                                    <tr>
                                        <th class="p-3 text-left font-semibold text-stone-600">Número</th>
                                        <th class="p-3 text-left font-semibold text-stone-600">Ordinal</th>
                                        <th class="p-3 text-left font-semibold text-stone-600">Abreviatura</th>
                                        <th class="p-3 text-left font-semibold text-stone-600">Ejemplo</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-t border-stone-200">
                                        <td class="p-3">1</td>
                                        <td class="p-3"><span class="font-semibold text-emerald-600">first</span></td>
                                        <td class="p-3">1st</td>
                                        <td class="p-3">May <span class="font-semibold">1st</span></td>
                                    </tr>
                                    <tr class="border-t border-stone-200 bg-stone-50">
                                        <td class="p-3">2</td>
                                        <td class="p-3"><span class="font-semibold text-emerald-600">second</span></td>
                                        <td class="p-3">2nd</td>
                                        <td class="p-3">July <span class="font-semibold">2nd</span></td>
                                    </tr>
                                    <tr class="border-t border-stone-200">
                                        <td class="p-3">3</td>
                                        <td class="p-3"><span class="font-semibold text-emerald-600">third</span></td>
                                        <td class="p-3">3rd</td>
                                        <td class="p-3">October <span class="font-semibold">3rd</span></td>
                                    </tr>
                                    <tr class="border-t border-stone-200 bg-stone-50">
                                        <td class="p-3">4, 5, 6...</td>
                                        <td class="p-3"><span class="font-semibold text-emerald-600">fourth, fifth, sixth...</span></td>
                                        <td class="p-3">4th, 5th, 6th...</td>
                                        <td class="p-3">June <span class="font-semibold">4th</span></td>
                                    </tr>
                                    <tr class="border-t border-stone-200">
                                        <td class="p-3">21, 31</td>
                                        <td class="p-3"><span class="font-semibold text-emerald-600">twenty-first, thirty-first</span></td>
                                        <td class="p-3">21st, 31st</td>
                                        <td class="p-3">December <span class="font-semibold">21st</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <h4 class="text-lg font-semibold text-stone-700 mt-6 mb-2">Preguntas con 'When' y 'How long'</h4>
                        <ul class="list-disc list-inside space-y-2 text-stone-700">
                            <li><span class="font-semibold">When</span> is the festival? (¿Cuándo es...?)<br>
                                &rarr; *It's <span class="font-semibold">in</span> March. / It's <span class="font-semibold">on</span> March 15th.*</li>
                            <li><span class="font-semibold">How long</span> is the festival? (¿Cuánto dura...?)<br>
                                &rarr; *It's three days long.*</li>
                        </ul>
                    </div>
                    
                    <div id="unit-8-vocab" class="unit-content hidden">
                        <h3 class="text-2xl font-semibold text-emerald-700 mb-4">Vocabulario: Flashcards</h3>
                        <p class="text-stone-600 mb-4 text-center">Haz clic en la tarjeta para ver la traducción.</p>
                        
                        <div class="relative w-full max-w-sm mx-auto h-48 perspective">
                            <div id="flashcard-u8" class="flashcard relative w-full h-full">
                                <div id="flashcard-u8-front" class="flashcard-face absolute w-full h-full bg-white border-2 border-emerald-500 rounded-lg shadow-lg flex items-center justify-center p-4">
                                    <span class="text-3xl font-bold text-stone-700"></span>
                                </div>
                                <div id="flashcard-u8-back" class="flashcard-face flashcard-back absolute w-full h-full bg-emerald-50 border-2 border-emerald-500 rounded-lg shadow-lg flex items-center justify-center p-4">
                                    <span class="text-3xl font-bold text-emerald-700"></span>
                                </div>
                            </div>
                        </div>

                        <div class="flex justify-between max-w-sm mx-auto mt-6">
                            <button id="prev-u8" class="py-2 px-5 bg-stone-300 text-stone-700 font-semibold rounded-lg shadow hover:bg-stone-400">&larr; Anterior</button>
                            <button id="next-u8" class="py-2 px-5 bg-emerald-600 text-white font-semibold rounded-lg shadow hover:bg-emerald-700">Siguiente &rarr;</button>
                        </div>
                    </div>

                    <div id="unit-8-practice" class="unit-content hidden">
                        <h3 class="text-2xl font-semibold text-emerald-700 mb-4">Práctica: Números Ordinales</h3>
                        
                        <div class="space-y-4 max-w-md mx-auto">
                            <div id="quiz-u8-item">
                                <p id="quiz-u8-question" class="text-lg text-stone-700 mb-2 text-center"></p>
                                <div class="flex space-x-2">
                                    <input id="quiz-u8-input" type="text" class="flex-grow p-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500" placeholder="Escribe el ordinal (ej: first)...">
                                    <button id="quiz-u8-check" class="py-2 px-5 bg-emerald-600 text-white font-semibold rounded-lg shadow hover:bg-emerald-700">Verificar</button>
                                </div>
                                <p id="quiz-u8-feedback" class="mt-2 text-center font-medium h-6"></p>
                            </div>
                            <button id="quiz-u8-next" class="w-full py-2 px-5 bg-stone-600 text-white font-semibold rounded-lg shadow hover:bg-stone-700 hidden">Siguiente Pregunta</button>
                        </div>
                    </div>
                </div>
            </section>

            <section id="page-unit-9" class="page-content hidden">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-3xl font-bold text-stone-700 mb-2">Unidad 9: Come Together</h2>
                    <p class="text-lg text-stone-600 mb-6">Temas: Tareas domésticas, adverbios de frecuencia y disculpas.</p>

                    <div class="flex justify-center space-x-2 mb-6 border-b border-stone-200 pb-4">
                        <button class="unit-tab active py-2 px-4 rounded-full bg-stone-200 text-stone-700 hover:bg-emerald-500 hover:text-white" data-target="unit-9-grammar">Gramática</button>
                        <button class="unit-tab py-2 px-4 rounded-full bg-stone-200 text-stone-700 hover:bg-emerald-500 hover:text-white" data-target="unit-9-vocab">Vocabulario</button>
                        <button class="unit-tab py-2 px-4 rounded-full bg-stone-200 text-stone-700 hover:bg-emerald-500 hover:text-white" data-target="unit-9-practice">Práctica</button>
                    </div>

                    <div id="unit-9-grammar" class="unit-content">
                        <h3 class="text-2xl font-semibold text-emerald-700 mb-4">Gramática: Adverbios de Frecuencia</h3>
                        
                        <h4 class="text-lg font-semibold text-stone-700 mt-4 mb-2">Posición de los Adverbios</h4>
                        <p class="text-stone-700 mb-4">Indican qué tan seguido ocurre algo. Van <span class="font-semibold">antes</span> del verbo principal (pero <span class="font-semibold">después</span> del verbo 'be').</p>
                        
                        <div class="w-full bg-stone-100 p-4 rounded-lg">
                            <div class="flex justify-between text-sm font-medium text-stone-600 px-1">
                                <span>always (100%)</span>
                                <span>usually</span>
                                <span>often</span>
                                <span>sometimes</span>
                                <span>hardly ever</span>
                                <span>never (0%)</span>
                            </div>
                            <div class="w-full h-2 bg-gradient-to-r from-emerald-600 via-yellow-400 to-red-600 rounded-full mt-2"></div>
                        </div>

                        <ul class="list-disc list-inside space-y-2 text-stone-700 mt-4">
                            <li>*He <span class="font-semibold text-emerald-600">always</span> works late.* (Antes del verbo 'work')</li>
                            <li>*She is <span class="font-semibold text-emerald-600">sometimes</span> late.* (Después del verbo 'is')</li>
                            <li>*I <span class="font-semibold text-emerald-600">never</span> eat meat.* (Antes del verbo 'eat')</li>
                        </ul>

                        <h4 class="text-lg font-semibold text-stone-700 mt-6 mb-2">Disculparse y Responder</h4>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <h5 class="font-semibold text-stone-700">Para Disculparse:</h5>
                                <ul class="list-disc list-inside space-y-1 text-stone-700">
                                    <li>I'm sorry.</li>
                                    <li>I'm really sorry.</li>
                                </ul>
                            </div>
                            <div>
                                <h5 class="font-semibold text-stone-700">Para Responder:</h5>
                                <ul class="list-disc list-inside space-y-1 text-stone-700">
                                    <li>That's OK.</li>
                                    <li>No problem.</li>
                                    <li>Don't worry about it.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div id="unit-9-vocab" class="unit-content hidden">
                        <h3 class="text-2xl font-semibold text-emerald-700 mb-4">Vocabulario: Flashcards</h3>
                        <p class="text-stone-600 mb-4 text-center">Haz clic en la tarjeta para ver la traducción.</p>
                        
                        <div class="relative w-full max-w-sm mx-auto h-48 perspective">
                            <div id="flashcard-u9" class="flashcard relative w-full h-full">
                                <div id="flashcard-u9-front" class="flashcard-face absolute w-full h-full bg-white border-2 border-emerald-500 rounded-lg shadow-lg flex items-center justify-center p-4">
                                    <span class="text-3xl font-bold text-stone-700"></span>
                                </div>
                                <div id="flashcard-u9-back" class="flashcard-face flashcard-back absolute w-full h-full bg-emerald-50 border-2 border-emerald-500 rounded-lg shadow-lg flex items-center justify-center p-4">
                                    <span class="text-3xl font-bold text-emerald-700"></span>
                                </div>
                            </div>
                        </div>

                        <div class="flex justify-between max-w-sm mx-auto mt-6">
                            <button id="prev-u9" class="py-2 px-5 bg-stone-300 text-stone-700 font-semibold rounded-lg shadow hover:bg-stone-400">&larr; Anterior</button>
                            <button id="next-u9" class="py-2 px-5 bg-emerald-600 text-white font-semibold rounded-lg shadow hover:bg-emerald-700">Siguiente &rarr;</button>
                        </div>
                    </div>

                    <div id="unit-9-practice" class="unit-content hidden">
                        <h3 class="text-2xl font-semibold text-emerald-700 mb-4">Práctica: Adverbios de Frecuencia</h3>
                        
                        <div class="space-y-4 max-w-md mx-auto">
                            <div id="quiz-u9-item">
                                <p id="quiz-u9-question" class="text-lg text-stone-700 mb-2 text-center"></p>
                                <div class="flex space-x-2">
                                    <input id="quiz-u9-input" type="text" class="flex-grow p-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500" placeholder="Escribe el adverbio...">
                                    <button id="quiz-u9-check" class="py-2 px-5 bg-emerald-600 text-white font-semibold rounded-lg shadow hover:bg-emerald-700">Verificar</button>
                                </div>
                                <p id="quiz-u9-feedback" class="mt-2 text-center font-medium h-6"></p>
                            </div>
                            <button id="quiz-u9-next" class="w-full py-2 px-5 bg-stone-600 text-white font-semibold rounded-lg shadow hover:bg-stone-700 hidden">Siguiente Pregunta</button>
                        </div>
                    </div>
                </div>
            </section>
        </main>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const mainTabs = document.querySelectorAll('.main-tab');
            const mainPages = document.querySelectorAll('.page-content');
            
            mainTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    mainTabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    mainPages.forEach(page => {
                        page.classList.add('hidden');
                    });
                    
                    const targetPage = document.getElementById(tab.dataset.target);
                    if (targetPage) {
                        targetPage.classList.remove('hidden');
                    }
                });
            });

            document.querySelectorAll('.page-content').forEach(unitPage => {
                const unitTabs = unitPage.querySelectorAll('.unit-tab');
                const unitContents = unitPage.querySelectorAll('.unit-content');
                
                unitTabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        unitTabs.forEach(t => t.classList.remove('active'));
                        tab.classList.add('active');
                        
                        unitContents.forEach(content => {
                            content.classList.add('hidden');
                        });
                        
                        const targetContent = unitPage.querySelector(`#${tab.dataset.target}`);
                        if (targetContent) {
                            targetContent.classList.remove('hidden');
                        }
                    });
                });
            });

            const vocab = {
                u7: [
                    { es: 'Despertarse', en: 'Wake up' },
                    { es: 'Ducharse', en: 'Take a shower' },
                    { es: 'Vestirse', en: 'Get dressed' },
                    { es: 'Desayunar', en: 'Have breakfast' },
                    { es: 'Salir de casa', en: 'Leave home' },
                    { es: 'Cepillarse los dientes', en: 'Brush teeth' },
                    { es: 'Ir a bailar', en: 'Go dancing' },
                    { es: 'Ir de compras', en: 'Go shopping' },
                    { es: 'Ir al cine', en: 'Go to the movies' },
                    { es: 'Dar un paseo', en: 'Go for a walk' },
                    { es: 'Salir con amigos', en: 'Go out with friends' }
                ],
                u8: [
                    { es: 'Enero', en: 'January' },
                    { es: 'Febrero', en: 'February' },
                    { es: 'Marzo', en: 'March' },
                    { es: 'Abril', en: 'April' },
                    { es: 'Mayo', en: 'May' },
                    { es: 'Junio', en: 'June' },
                    { es: 'Julio', en: 'July' },
                    { es: 'Agosto', en: 'August' },
                    { es: 'Septiembre', en: 'September' },
                    { es: 'Octubre', en: 'October' },
                    { es: 'Noviembre', en: 'November' },
                    { es: 'Diciembre', en: 'December' },
                    { es: 'Evento', en: 'Event' },
                    { es: 'Tener lugar', en: 'Take place' },
                    { es: 'Asistir', en: 'Attend' },
                    { es: 'Anualmente', en: 'Annually' }
                ],
                u9: [
                    { es: 'Lavar la ropa', en: 'Do the laundry' },
                    { es: 'Lavar los platos', en: 'Wash the dishes' },
                    { es: 'Hacer la cama', en: 'Make the bed' },
                    { es: 'Limpiar el cuarto', en: 'Clean the room' },
                    { es: 'Sacar la basura', en: 'Empty the trash' },
                    { es: 'Hacer las compras', en: 'Do the grocery shopping' },
                    { es: 'Siempre', en: 'Always' },
                    { es: 'Usualmente', en: 'Usually' },
                    { es: 'A menudo', en: 'Often' },
                    { es: 'A veces', en: 'Sometimes' },
                    { es: 'Casi nunca', en: 'Hardly ever' },
                    { es: 'Nunca', en: 'Never' },
                    { es: 'Salir en una cita', en: 'Go on a date' },
                    { es: 'Pasar el rato', en: 'Hang out' },
                    { es: 'Terminar (relación)', en: 'Break up' },
                    { es: 'Soltero/a', en: 'Single' }
                ]
            };

            const quizzes = {
                u7: [
                    { q: 'The party is ___ Friday.', a: 'on' },
                    { q: 'My birthday is ___ August.', a: 'in' },
                    { q: 'The class starts ___ 9:00 AM.', a: 'at' },
                    { q: 'I work ___ Monday ___ Friday.', a: 'from to' },
                    { q: 'He wakes up ___ the morning.', a: 'in' },
                    { q: 'The meeting is ___ noon.', a: 'at' },
                    { q: '4:15 (cuarto pasada las 4)', a: 'quarter past four' },
                    { q: '8:30 (media pasada las 8)', a: 'half past eight' },
                    { q: '11:45 (cuarto para las 12)', a: 'quarter to twelve' }
                ],
                u8: [
                    { q: '1 (ordinal)', a: 'first' },
                    { q: '2 (ordinal)', a: 'second' },
                    { q: '3 (ordinal)', a: 'third' },
                    { q: '5 (ordinal)', a: 'fifth' },
                    { q: '20 (ordinal)', a: 'twentieth' },
                    { q: '21 (ordinal)', a: 'twenty-first' },
                    { q: '___ is Christmas? (cuándo)', a: 'When' },
                    { q: '___ long is the movie? (cuánto dura)', a: 'How' }
                ],
                u9: [
                    { q: 'Él (siempre) se levanta temprano. (He ___ gets up early)', a: 'always' },
                    { q: 'Ella está (nunca) triste. (She is ___ sad)', a: 'never' },
                    { q: 'Yo (a veces) veo TV. (I ___ watch TV)', a: 'sometimes' },
                    { q: 'Ellos (casi nunca) estudian. (They ___ study)', a: 'hardly ever' },
                    { q: '(Respuesta a "I\'m sorry"): "No te preocupes"', a: 'Don\'t worry about it' },
                    { q: '(Respuesta a "I\'m really sorry"): "No hay problema"', a: 'No problem' }
                ]
            };
            
            function setupFlashcards(unit) {
                let currentIndex = 0;
                const data = vocab[unit];
                const card = document.getElementById(`flashcard-${unit}`);
                const front = document.getElementById(`flashcard-${unit}-front`).querySelector('span');
                const back = document.getElementById(`flashcard-${unit}-back`).querySelector('span');
                const nextBtn = document.getElementById(`next-${unit}`);
                const prevBtn = document.getElementById(`prev-${unit}`);

                function showCard(index) {
                    if (!data || data.length === 0) return;
                    card.classList.remove('is-flipped');
                    setTimeout(() => {
                        front.textContent = data[index].es;
                        back.textContent = data[index].en;
                    }, 200);
                }

                card.addEventListener('click', () => {
                    card.classList.toggle('is-flipped');
                });

                nextBtn.addEventListener('click', () => {
                    currentIndex = (currentIndex + 1) % data.length;
                    showCard(currentIndex);
                });

                prevBtn.addEventListener('click', () => {
                    currentIndex = (currentIndex - 1 + data.length) % data.length;
                    showCard(currentIndex);
                });

                showCard(0);
            }
            
            function setupQuiz(unit) {
                let currentQuizIndex = 0;
                const data = quizzes[unit];
                const questionEl = document.getElementById(`quiz-${unit}-question`);
                const inputEl = document.getElementById(`quiz-${unit}-input`);
                const checkBtn = document.getElementById(`quiz-${unit}-check`);
                const feedbackEl = document.getElementById(`quiz-${unit}-feedback`);
                const nextBtn = document.getElementById(`quiz-${unit}-next`);

                function showQuiz(index) {
                    if (!data || data.length === 0) return;
                    questionEl.textContent = data[index].q;
                    inputEl.value = '';
                    feedbackEl.textContent = '';
                    inputEl.disabled = false;
                    checkBtn.classList.remove('hidden');
                    nextBtn.classList.add('hidden');
                    feedbackEl.classList.remove('text-green-600', 'text-red-600');
                }

                checkBtn.addEventListener('click', () => {
                    const userAnswer = inputEl.value.trim().toLowerCase();
                    const correctAnswer = data[currentQuizIndex].a.toLowerCase();

                    if (userAnswer === correctAnswer) {
                        feedbackEl.textContent = '¡Correcto!';
                        feedbackEl.classList.add('text-green-600');
                        inputEl.disabled = true;
                        checkBtn.classList.add('hidden');
                        if (currentQuizIndex < data.length - 1) {
                            nextBtn.classList.remove('hidden');
                        } else {
                            feedbackEl.textContent = '¡Completaste la práctica!';
                        }
                    } else {
                        feedbackEl.textContent = `Incorrecto. La respuesta es: ${data[currentQuizIndex].a}`;
                        feedbackEl.classList.add('text-red-600');
                    }
                });

                nextBtn.addEventListener('click', () => {
                    currentQuizIndex++;
                    showQuiz(currentQuizIndex);
                });

                showQuiz(0);
            }

            setupFlashcards('u7');
            setupQuiz('u7');
            setupFlashcards('u8');
            setupQuiz('u8');
            setupFlashcards('u9');
            setupQuiz('u9');

            const ctx = document.getElementById('unitChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Unidad 7: Time', 'Unidad 8: Special Occasions', 'Unidad 9: Come Together'],
                    datasets: [{
                        label: 'Conceptos Clave (Gramática + Vocab)',
                        data: [
                            vocab.u7.length + 2,
                            vocab.u8.length + 2,
                            vocab.u9.length + 2
                        ],
                        backgroundColor: [
                            'rgba(16, 185, 129, 0.6)',
                            'rgba(5, 150, 105, 0.6)',
                            'rgba(6, 95, 70, 0.6)'
                        ],
                        borderColor: [
                            '#10B981',
                            '#059669',
                            '#065F46'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#44403C'
                            },
                            grid: {
                                color: '#F5F5F4'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#44403C'
                            },
                            grid: {
                                display: false
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            backgroundColor: '#1E293B',
                            titleFont: {
                                size: 14,
                                weight: 'bold'
                            },
                            bodyFont: {
                                size: 12
                            },
                            padding: 10,
                            cornerRadius: 4
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>